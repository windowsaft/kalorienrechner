<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingridient Management API User Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f9f9f9;
            color: #333;
        }
        h1, h2, h3, h4 {
            color: #2c3e50;
        }
        h1 {
            text-align: center;
            background-color: #3498db;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
        }
        h2, h3, h4 {
            margin-top: 20px;
        }
        hr {
            border: 0;
            height: 1px;
            background: #ccc;
            margin: 20px 0;
        }
        code {
            background-color: #ecf0f1;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: "Courier New", Courier, monospace;
        }
        pre {
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        ul li {
            margin-bottom: 5px;
        }
        .highlight {
            background-color: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 10px;
            border-radius: 5px;
        }
        .example-response {
            background-color: #e8f5e9;
            border-left: 5px solid #28a745;
            padding: 10px;
            border-radius: 5px;
        }
        .endpoint {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1 id="ingridient-management-api-user-guide">Ingridient Management API User Guide</h1>
    <p>Welcome to the Ingridient Management API. This guide provides details about the API endpoints, their usage, and examples.</p>
    <hr>

    <h2 id="base-url"><strong>Base URL</strong></h2>
    <pre><code>https://calc.d-nn.is/api</code></pre>
    <hr>

    <h2 id="endpoints"><strong>Endpoints</strong></h2>

    <h3 id="ingridients-management"><strong>1. Ingridients Management</strong></h3>

    <h4 id="get-all-ingridients">a) Get All Ingridients</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">GET /api/ingridients</span></li>
        <li><strong>Description:</strong> Retrieve a list of all ingridients.</li>
        <li><strong>Query Parameters:</strong>
            <ul>
                <li><code>search</code> (optional): Filter ingridients by name (case-insensitive).</li>
                <li><code>sort</code> (optional): Sort by <code>name</code>, <code>calories</code>, <code>carbs</code>, <code>fat</code>, <code>protein</code> or <code>created_at</code> (default: <code>name</code>).</li>
                <li><code>order</code> (optional): <code>asc</code> or <code>desc</code> (default: <code>asc</code>).</li>
            </ul>
        </li>
    </ul>
    <p><strong>Example Request:</strong></p>
    <pre><code>GET /api/ingridients?search=apple&sort=calories&order=asc</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">[
  { "id": "3e9fc60f-475d-4b3c-bcc7-56bc84094d14", "name": "Apple", "calories": 52, , "carbs": 12, "fat": 0, "protein": 0, "created_at": "1735689600" },
  { "id": "3e9ff60f-475d-4e3c-bcc7-56bc84494d14", "name": "Green Apple", "calories": 48, , "carbs": 14, "fat": 0, "protein": 0, "created_at": "1704067200" }
]</code></pre>
    <hr>

    <h4 id="get-single-ingridient">b) Get a Single Ingridient</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">GET /api/ingridients/:id</span></li>
        <li><strong>Description:</strong> Retrieve details of a single ingridient by ID.</li>
    </ul>
    <p><strong>Example Request:</strong></p>
    <pre><code>GET /api/ingridients/3e9fc60f-475d-4b3c-bcc7-56bc84094d14</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">{ "id": "3e9fc60f-475d-4b3c-bcc7-56bc84094d14", "name": "Apple", "calories": 52, , "carbs": 12, "fat": 0, "protein": 0, "created_at": "1735689600" },</code></pre>
    <hr>

    <h4 id="add-new-ingridient">c) Add a New Ingridient</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">POST /api/ingridients</span></li>
        <li><strong>Description:</strong> Add a new ingridient.</li>
        <li><strong>Headers:</strong> <code>Content-Type: application/json</code></li>
        <li><strong>Request Body:</strong>
            <pre><code class="lang-json">{
  "name": "Banana Juice",
  "calories": 52,
  "carbs": 3,
  "fat": 32,
  "protein": 654
}</code></pre>
        </li>
    </ul>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">{ "id": 1, "message": "Ingridient added successfully." }</code></pre>
    <hr>

    <h4 id="update-ingridient">d) Update an Ingridient</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">PUT /api/ingridients/:id</span></li>
        <li><strong>Description:</strong> Update an existing ingridient by ID.</li>
        <li><strong>Request Body:</strong>
            <pre><code class="lang-json">{
  "name": "Green Apple",
  "calories": 48,
  "category": "Fruits"
}</code></pre>
        </li>
    </ul>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">{ "message": "Ingridient updated successfully." }</code></pre>
    <hr>

    <h4 id="delete-ingridient">e) Delete an Ingridient</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">DELETE /api/ingridients/:id</span></li>
        <li><strong>Description:</strong> Delete an ingridient by ID.</li>
    </ul>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">{ "message": "Ingridient deleted successfully." }</code></pre>
    <hr>

    <h3 id="bulk-operations"><strong>2. Bulk Operations</strong></h3>

    <h4 id="delete-multiple-ingridients">a) Delete Multiple Ingridients</h4>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">DELETE /api/ingridients</span></li>
        <li><strong>Description:</strong> Delete multiple ingridients by their IDs.</li>
        <li><strong>Request Body:</strong>
            <pre><code class="lang-json">{ "ids": ["3e9fc60f-475d-4b3c-bcc7-56bc84094d14", "3e9ff60f-475d-4e3c-bcc7-56bc84494d14"] }</code></pre>
        </li>
    </ul>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">{ "message": "3 ingridients deleted successfully." }</code></pre>
    <hr>

    <h3 id="search-feature"><strong>3. Search Feature</strong></h3>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">GET /api/ingridients</span></li>
        <li><strong>Query Parameter:</strong> <code>search</code>
            <ul>
                <li>Use this parameter to filter ingridients by their name.</li>
            </ul>
        </li>
    </ul>
    <p><strong>Example Request:</strong></p>
    <pre><code>GET /api/ingridients?search=apple</code></pre>
    <p><strong>Example Response:</strong></p>
    <pre class="example-response"><code class="lang-json">[
        { "id": "3e9fc60f-475d-4b3c-bcc7-56bc84094d14", "name": "Apple", "calories": 52, , "carbs": 12, "fat": 0, "protein": 0, "created_at": "1735689600" },
        { "id": "3e9ff60f-475d-4e3c-bcc7-56bc84494d14", "name": "Green Apple", "calories": 48, , "carbs": 14, "fat": 0, "protein": 0, "created_at": "1704067200" }
]</code></pre>
    <hr>

    <h3 id="api-health-check"><strong>4. API Health Check</strong></h3>
    <ul>
        <li><strong>Endpoint:</strong> <span class="endpoint">GET /api/health</span></li>
        <li><strong>Description:</strong> Check if the API is running.</li>
    </ul>
    <p><strong>Example Response:</strong></p>
    <pre class="highlight"><code class="lang-json">{ "status": "Healthy", "uptime": "3h 25m", "timestamp": "1704067333" }</code></pre>
    <hr>

    <h2 id="common-http-status-codes"><strong>Common HTTP Status Codes</strong></h2>
    <ul>
        <li><code>200 OK</code>: Request was successful.</li>
        <li><code>201 Created</code>: Resource was successfully created.</li>
        <li><code>400 Bad Request</code>: The request was invalid or missing parameters.</li>
        <li><code>404 Not Found</code>: The requested resource does not exist.</li>
        <li><code>500 Internal Server Error</code>: An error occurred on the server.</li>
    </ul>
</body>
</html>
